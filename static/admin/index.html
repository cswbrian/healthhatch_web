<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Content Manager</title>
  <!-- Link to config file to help Decap CMS auto-discover it -->
  <link href="/admin/config.yml" type="text/yaml" rel="cms-config-url">
</head>
<body>
  <!-- Debug logging script -->
  <script>
    console.log('=== Decap CMS Debug Logging ===');
    
    // Log all messages received
    window.addEventListener('message', function(event) {
      // Filter out webpack/dev messages
      if (typeof event.data === 'object' && event.data?.type?.startsWith('webpack')) return;
      
      console.log('[MESSAGE] Received:', event.data);
      console.log('[MESSAGE] From origin:', event.origin);
      
      // Check if it's an authorization message
      if (typeof event.data === 'string' && event.data.startsWith('authorization:')) {
        console.log('[AUTH] Authorization message detected!');
      }
    });
  </script>
  
  <!-- Load Decap CMS -->
  <script src="https://unpkg.com/decap-cms@^3.0.0/dist/decap-cms.js"></script>
</body>
</html>
